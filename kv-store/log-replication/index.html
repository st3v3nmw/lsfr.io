<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Log Replication# // TODO
Rough Notes# Raft log replaces the WAL from stage 3 Leader appends client operations to log, replicates to followers AppendEntries RPC with actual log entries Commit index (entry committed when replicated to majority) Apply committed entries to state machine (KV store) Log matching property (consistency across nodes) Fsync log entries before responding to client nextIndex and matchIndex tracking per follower Happy path only - no crashes/failures yet "><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lsfr.io/kv-store/log-replication/"><meta property="og:site_name" content="lsfr.io"><meta property="og:title" content="Log Replication"><meta property="og:description" content="Log Replication# // TODO
Rough Notes# Raft log replaces the WAL from stage 3 Leader appends client operations to log, replicates to followers AppendEntries RPC with actual log entries Commit index (entry committed when replicated to majority) Apply committed entries to state machine (KV store) Log matching property (consistency across nodes) Fsync log entries before responding to client nextIndex and matchIndex tracking per follower Happy path only - no crashes/failures yet"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="kv-store"><meta property="article:modified_time" content="2025-12-28T17:37:15+03:00"><meta itemprop=name content="Log Replication"><meta itemprop=description content="Log Replication# // TODO
Rough Notes# Raft log replaces the WAL from stage 3 Leader appends client operations to log, replicates to followers AppendEntries RPC with actual log entries Commit index (entry committed when replicated to majority) Apply committed entries to state machine (KV store) Log matching property (consistency across nodes) Fsync log entries before responding to client nextIndex and matchIndex tracking per follower Happy path only - no crashes/failures yet"><meta itemprop=dateModified content="2025-12-28T17:37:15+03:00"><meta itemprop=wordCount content="71"><title>Log Replication | lsfr.io</title><link rel=icon href=/fa-feather.svg><link rel=manifest href=/manifest.json><link rel=canonical href=https://lsfr.io/kv-store/log-replication/><link rel=stylesheet href=/book.min.ab49e21559bbdf668d64e765afb333baceaf7efe3f272a8318e6d68e610a0d3f.css integrity="sha256-q0niFVm732aNZOdlr7Mzus6vfv4/JyqDGObWjmEKDT8=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.4ffe2ebc6a448c78d4c714f6bf5026fcda53369dc6651b4be90764b2d8a00a6c.js integrity="sha256-T/4uvGpEjHjUxxT2v1Am/NpTNp3GZRtL6QdkstigCmw=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-kv-store"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/fa-feather.svg alt=Logo class=book-icon><i>lsfr.io</i></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/how-lsfr-works/>How lsfr Works</a></li><li><input type=checkbox id=section-9c02cfb52851d47ab5511a2e6400e2c6 class=toggle checked>
<label for=section-9c02cfb52851d47ab5511a2e6400e2c6 class=flex><a href=/kv-store/>Distributed Key-Value Store</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/kv-store/http-api/>HTTP API</a></li><li><a href=/kv-store/persistence/>Persistence</a></li><li><a href=/kv-store/crash-recovery/>Crash Recovery</a></li><li><a href=/kv-store/leader-election/>Leader Election</a></li><li><a href=/kv-store/log-replication/ class=active>Log Replication</a></li><li><a href=/kv-store/membership-changes/>Membership Changes</a></li><li><a href=/kv-store/fault-tolerance/>Fault Tolerance</a></li><li><a href=/kv-store/log-compaction/>Log Compaction</a></li></ul></li><li><a>Guides</a><ul><li><a href=/guides/cli/>CLI</a></li><li><a href=/guides/ci-cd/>CI/CD</a></li></ul></li><li><input type=checkbox id=section-f726ddd70f9df03e77714ffcd941e3f8 class=toggle>
<label for=section-f726ddd70f9df03e77714ffcd941e3f8 class=flex><a role=button>Reference</a>
<img src=/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/reference/testing/>Testing</a></li><li><a href=/reference/writing-style/>Writing Style</a></li></ul></li><li><a href=/about/>About</a></li></ul><ul><li><a href=https://github.com/st3v3nmw/lsfr target=_blank rel=noopener>GitHub</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3><i><a href=/ style=color:inherit;text-decoration:none>lsfr.io</a></i></h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#rough-notes>Rough Notes</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=log-replication>Log Replication<a class=anchor href=#log-replication>#</a></h1><p>// TODO</p><h2 id=rough-notes>Rough Notes<a class=anchor href=#rough-notes>#</a></h2><ul><li>Raft log replaces the WAL from stage 3</li><li>Leader appends client operations to log, replicates to followers</li><li>AppendEntries RPC with actual log entries</li><li>Commit index (entry committed when replicated to majority)</li><li>Apply committed entries to state machine (KV store)</li><li>Log matching property (consistency across nodes)</li><li>Fsync log entries before responding to client</li><li>nextIndex and matchIndex tracking per follower</li><li>Happy path only - no crashes/failures yet</li></ul></article><p style=margin-top:2rem;font-size:1rem><a href=https://github.com/st3v3nmw/lsfr.io/discussions target=_blank rel=noopener>Discuss on GitHub →</a></p><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/kv-store/leader-election/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Backward>
<span>Leader Election</span>
</a></span><span><a href=/kv-store/membership-changes/ class="flex align-center"><span>Membership Changes</span>
<img src=/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class="book-copyright flex justify-center"><small>lsfr.io - <a href=https://github.com/st3v3nmw/lsfr.io/blob/main/LICENSE>© CC BY 4.0</a></small></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#rough-notes>Rough Notes</a></li></ul></nav></div></aside></main></body></html>